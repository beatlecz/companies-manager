// Generated by CoffeeScript 1.6.3
var CompaniesCtrl, CompanyCtrl;

CompaniesCtrl = function($scope, Api) {
  $scope.loadData = function() {
    return $scope.companies = Api.companies.query();
  };
  $scope["delete"] = function(c) {
    return c.$delete(function() {
      return $scope.loadData();
    });
  };
  return $scope.loadData();
};

CompanyCtrl = function($scope, Api, $routeParams, $location) {
  if ($routeParams.company_id === 'new') {
    $scope.editing = true;
    $scope.isNew = true;
    $scope.company = new Api.companies();
  } else {
    $scope.editing = false;
    $scope.company = Api.companies.get({
      company_id: $routeParams.company_id
    });
  }
  $scope.editToggle = function() {
    return $scope.editing = !$scope.editing;
  };
  return $scope.save = function(c) {
    return c.$save(function() {
      return $location.path('/companies/' + c.id);
    });
  };
};
